<html>
<head>


</head>
<body>

<div>hellow</div>
<button class="enableEthereumButton btn">Enable Ethereum</button>
<button class="sendEthButton btn">Send Eth</button>
<button class="etttBalance btn">Get ETTT Balance</button>
<button class="nftBalance btn">SHOW MY NFTs</button>

<div id="my_content">maybe some content</div>
</body>

<script src="web3.min.js"></script>
<script>

    const ethEnabled = () => {
      if (window.ethereum) {
        window.web3 = new Web3(window.ethereum);
        window.ethereum.enable();
        return true;
      }
      return false;
    }

    var tradeAsset = async (thisContract,from,to,idz) => {
      alert(`yup you called it`)
      let abiNFTTA = [
        	{
        		"inputs": [],
        		"stateMutability": "nonpayable",
        		"type": "constructor"
        	},
        	{
        		"anonymous": false,
        		"inputs": [
        			{
        				"indexed": true,
        				"internalType": "address",
        				"name": "owner",
        				"type": "address"
        			},
        			{
        				"indexed": true,
        				"internalType": "address",
        				"name": "approved",
        				"type": "address"
        			},
        			{
        				"indexed": true,
        				"internalType": "uint256",
        				"name": "tokenId",
        				"type": "uint256"
        			}
        		],
        		"name": "Approval",
        		"type": "event"
        	},
        	{
        		"anonymous": false,
        		"inputs": [
        			{
        				"indexed": true,
        				"internalType": "address",
        				"name": "owner",
        				"type": "address"
        			},
        			{
        				"indexed": true,
        				"internalType": "address",
        				"name": "operator",
        				"type": "address"
        			},
        			{
        				"indexed": false,
        				"internalType": "bool",
        				"name": "approved",
        				"type": "bool"
        			}
        		],
        		"name": "ApprovalForAll",
        		"type": "event"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "to",
        				"type": "address"
        			},
        			{
        				"internalType": "uint256",
        				"name": "tokenId",
        				"type": "uint256"
        			}
        		],
        		"name": "approve",
        		"outputs": [],
        		"stateMutability": "nonpayable",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "receiver",
        				"type": "address"
        			},
        			{
        				"internalType": "string",
        				"name": "tokenURI",
        				"type": "string"
        			}
        		],
        		"name": "mintNft",
        		"outputs": [
        			{
        				"internalType": "uint256",
        				"name": "",
        				"type": "uint256"
        			}
        		],
        		"stateMutability": "nonpayable",
        		"type": "function"
        	},
        	{
        		"anonymous": false,
        		"inputs": [
        			{
        				"indexed": true,
        				"internalType": "address",
        				"name": "previousOwner",
        				"type": "address"
        			},
        			{
        				"indexed": true,
        				"internalType": "address",
        				"name": "newOwner",
        				"type": "address"
        			}
        		],
        		"name": "OwnershipTransferred",
        		"type": "event"
        	},
        	{
        		"inputs": [],
        		"name": "renounceOwnership",
        		"outputs": [],
        		"stateMutability": "nonpayable",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "from",
        				"type": "address"
        			},
        			{
        				"internalType": "address",
        				"name": "to",
        				"type": "address"
        			},
        			{
        				"internalType": "uint256",
        				"name": "tokenId",
        				"type": "uint256"
        			}
        		],
        		"name": "safeTransferFrom",
        		"outputs": [],
        		"stateMutability": "nonpayable",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "from",
        				"type": "address"
        			},
        			{
        				"internalType": "address",
        				"name": "to",
        				"type": "address"
        			},
        			{
        				"internalType": "uint256",
        				"name": "tokenId",
        				"type": "uint256"
        			},
        			{
        				"internalType": "bytes",
        				"name": "_data",
        				"type": "bytes"
        			}
        		],
        		"name": "safeTransferFrom",
        		"outputs": [],
        		"stateMutability": "nonpayable",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "operator",
        				"type": "address"
        			},
        			{
        				"internalType": "bool",
        				"name": "approved",
        				"type": "bool"
        			}
        		],
        		"name": "setApprovalForAll",
        		"outputs": [],
        		"stateMutability": "nonpayable",
        		"type": "function"
        	},
        	{
        		"anonymous": false,
        		"inputs": [
        			{
        				"indexed": true,
        				"internalType": "address",
        				"name": "from",
        				"type": "address"
        			},
        			{
        				"indexed": true,
        				"internalType": "address",
        				"name": "to",
        				"type": "address"
        			},
        			{
        				"indexed": true,
        				"internalType": "uint256",
        				"name": "tokenId",
        				"type": "uint256"
        			}
        		],
        		"name": "Transfer",
        		"type": "event"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "from",
        				"type": "address"
        			},
        			{
        				"internalType": "address",
        				"name": "to",
        				"type": "address"
        			},
        			{
        				"internalType": "uint256",
        				"name": "tokenId",
        				"type": "uint256"
        			}
        		],
        		"name": "transferFrom",
        		"outputs": [],
        		"stateMutability": "nonpayable",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "newOwner",
        				"type": "address"
        			}
        		],
        		"name": "transferOwnership",
        		"outputs": [],
        		"stateMutability": "nonpayable",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "owner",
        				"type": "address"
        			}
        		],
        		"name": "balanceOf",
        		"outputs": [
        			{
        				"internalType": "uint256",
        				"name": "",
        				"type": "uint256"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [],
        		"name": "baseURI",
        		"outputs": [
        			{
        				"internalType": "string",
        				"name": "",
        				"type": "string"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "uint256",
        				"name": "tokenId",
        				"type": "uint256"
        			}
        		],
        		"name": "getApproved",
        		"outputs": [
        			{
        				"internalType": "address",
        				"name": "",
        				"type": "address"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "owner",
        				"type": "address"
        			},
        			{
        				"internalType": "address",
        				"name": "operator",
        				"type": "address"
        			}
        		],
        		"name": "isApprovedForAll",
        		"outputs": [
        			{
        				"internalType": "bool",
        				"name": "",
        				"type": "bool"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [],
        		"name": "name",
        		"outputs": [
        			{
        				"internalType": "string",
        				"name": "",
        				"type": "string"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [],
        		"name": "owner",
        		"outputs": [
        			{
        				"internalType": "address",
        				"name": "",
        				"type": "address"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "uint256",
        				"name": "tokenId",
        				"type": "uint256"
        			}
        		],
        		"name": "ownerOf",
        		"outputs": [
        			{
        				"internalType": "address",
        				"name": "",
        				"type": "address"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "bytes4",
        				"name": "interfaceId",
        				"type": "bytes4"
        			}
        		],
        		"name": "supportsInterface",
        		"outputs": [
        			{
        				"internalType": "bool",
        				"name": "",
        				"type": "bool"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [],
        		"name": "symbol",
        		"outputs": [
        			{
        				"internalType": "string",
        				"name": "",
        				"type": "string"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "uint256",
        				"name": "index",
        				"type": "uint256"
        			}
        		],
        		"name": "tokenByIndex",
        		"outputs": [
        			{
        				"internalType": "uint256",
        				"name": "",
        				"type": "uint256"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "address",
        				"name": "owner",
        				"type": "address"
        			},
        			{
        				"internalType": "uint256",
        				"name": "index",
        				"type": "uint256"
        			}
        		],
        		"name": "tokenOfOwnerByIndex",
        		"outputs": [
        			{
        				"internalType": "uint256",
        				"name": "",
        				"type": "uint256"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [
        			{
        				"internalType": "uint256",
        				"name": "tokenId",
        				"type": "uint256"
        			}
        		],
        		"name": "tokenURI",
        		"outputs": [
        			{
        				"internalType": "string",
        				"name": "",
        				"type": "string"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	},
        	{
        		"inputs": [],
        		"name": "totalSupply",
        		"outputs": [
        			{
        				"internalType": "uint256",
        				"name": "",
        				"type": "uint256"
        			}
        		],
        		"stateMutability": "view",
        		"type": "function"
        	}
        ]
      const nftAddressTA = '0x8579D4aF1550f3522385cb695a9529Fe297F474a';
      const thisNFTContract = await new web3.eth.Contract(abiNFTTA,nftAddressTA);
      let check = await ethEnabled();
      if(check){
        thisNFTContract.methods
        .safeTransferFrom(from,to,idz)
        .call()
        .then(async confirmation => {
          alert(`your tx id is ${confirmation}`)
        })
        .catch(console.error);
      }
    }


    const ethereumButton = document.querySelector('.enableEthereumButton');
    const sendEthButton = document.querySelector('.sendEthButton');
    const etttBalance = document.querySelector('.etttBalance');
    const nftBalance = document.querySelector('.nftBalance')

    let accounts = [];

    //Sending Ethereum to an address
    sendEthButton.addEventListener('click', () => {
    ethereum
      .request({
        method: 'eth_sendTransaction',
        params: [
          {
            from: accounts[0],
            to: '0xe9994B93C128E9cC56612c70E339B2995cb19E5A',
            value: '0x29a2241af62c0000',
            gasPrice: '0x09184e72a000',
            gas: '0x2710',
          },
        ],
      })
      .then((txHash) => console.log(txHash))
      .catch((error) => console.error);
    });

    ethereumButton.addEventListener('click', () => {
      getAccount();
    });

    async function getAccount() {
      accounts = await ethereum.request({ method: 'eth_requestAccounts' });
    }

    let abi = [
    	{
    		"constant": false,
    		"inputs": [
    			{
    				"name": "ticker",
    				"type": "string"
    			},
    			{
    				"name": "ettcost",
    				"type": "uint256"
    			},
    			{
    				"name": "qty",
    				"type": "uint256"
    			}
    		],
    		"name": "addOrder",
    		"outputs": [],
    		"payable": false,
    		"stateMutability": "nonpayable",
    		"type": "function"
    	},
    	{
    		"constant": false,
    		"inputs": [
    			{
    				"name": "_spender",
    				"type": "address"
    			},
    			{
    				"name": "_value",
    				"type": "uint256"
    			}
    		],
    		"name": "approve",
    		"outputs": [
    			{
    				"name": "success",
    				"type": "bool"
    			}
    		],
    		"payable": false,
    		"stateMutability": "nonpayable",
    		"type": "function"
    	},
    	{
    		"constant": false,
    		"inputs": [
    			{
    				"name": "_to",
    				"type": "address"
    			},
    			{
    				"name": "_value",
    				"type": "uint256"
    			}
    		],
    		"name": "transfer",
    		"outputs": [
    			{
    				"name": "success",
    				"type": "bool"
    			}
    		],
    		"payable": false,
    		"stateMutability": "nonpayable",
    		"type": "function"
    	},
    	{
    		"constant": false,
    		"inputs": [
    			{
    				"name": "_from",
    				"type": "address"
    			},
    			{
    				"name": "_to",
    				"type": "address"
    			},
    			{
    				"name": "_value",
    				"type": "uint256"
    			}
    		],
    		"name": "transferFrom",
    		"outputs": [
    			{
    				"name": "success",
    				"type": "bool"
    			}
    		],
    		"payable": false,
    		"stateMutability": "nonpayable",
    		"type": "function"
    	},
    	{
    		"constant": false,
    		"inputs": [
    			{
    				"name": "orderid",
    				"type": "uint256"
    			}
    		],
    		"name": "triggerOrder",
    		"outputs": [
    			{
    				"name": "success",
    				"type": "bool"
    			}
    		],
    		"payable": true,
    		"stateMutability": "payable",
    		"type": "function"
    	},
    	{
    		"inputs": [
    			{
    				"name": "_initialSupply",
    				"type": "uint256"
    			}
    		],
    		"payable": false,
    		"stateMutability": "nonpayable",
    		"type": "constructor"
    	},
    	{
    		"anonymous": false,
    		"inputs": [
    			{
    				"indexed": true,
    				"name": "_from",
    				"type": "address"
    			},
    			{
    				"indexed": true,
    				"name": "_to",
    				"type": "address"
    			},
    			{
    				"indexed": false,
    				"name": "_value",
    				"type": "uint256"
    			}
    		],
    		"name": "Transfer",
    		"type": "event"
    	},
    	{
    		"anonymous": false,
    		"inputs": [
    			{
    				"indexed": true,
    				"name": "_owner",
    				"type": "address"
    			},
    			{
    				"indexed": true,
    				"name": "_spender",
    				"type": "address"
    			},
    			{
    				"indexed": false,
    				"name": "_value",
    				"type": "uint256"
    			}
    		],
    		"name": "Approval",
    		"type": "event"
    	},
    	{
    		"constant": true,
    		"inputs": [
    			{
    				"name": "",
    				"type": "address"
    			},
    			{
    				"name": "",
    				"type": "address"
    			}
    		],
    		"name": "allowance",
    		"outputs": [
    			{
    				"name": "",
    				"type": "uint256"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [
    			{
    				"name": "",
    				"type": "address"
    			}
    		],
    		"name": "balanceOf",
    		"outputs": [
    			{
    				"name": "",
    				"type": "uint256"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [],
    		"name": "decimals",
    		"outputs": [
    			{
    				"name": "",
    				"type": "uint8"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [
    			{
    				"name": "ticker",
    				"type": "string"
    			}
    		],
    		"name": "getAllOrder",
    		"outputs": [
    			{
    				"name": "",
    				"type": "string"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [],
    		"name": "lastFiveOrders",
    		"outputs": [
    			{
    				"name": "",
    				"type": "string"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [],
    		"name": "name",
    		"outputs": [
    			{
    				"name": "",
    				"type": "string"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [],
    		"name": "orderCount",
    		"outputs": [
    			{
    				"name": "",
    				"type": "uint256"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [
    			{
    				"name": "",
    				"type": "uint256"
    			}
    		],
    		"name": "orders",
    		"outputs": [
    			{
    				"name": "id",
    				"type": "uint256"
    			},
    			{
    				"name": "seller",
    				"type": "address"
    			},
    			{
    				"name": "ticker",
    				"type": "string"
    			},
    			{
    				"name": "ettcost",
    				"type": "uint256"
    			},
    			{
    				"name": "qty",
    				"type": "uint256"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [],
    		"name": "standard",
    		"outputs": [
    			{
    				"name": "",
    				"type": "string"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [],
    		"name": "symbol",
    		"outputs": [
    			{
    				"name": "",
    				"type": "string"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	},
    	{
    		"constant": true,
    		"inputs": [],
    		"name": "totalSupply",
    		"outputs": [
    			{
    				"name": "",
    				"type": "uint256"
    			}
    		],
    		"payable": false,
    		"stateMutability": "view",
    		"type": "function"
    	}
    ];
    const tokenAddress = '0x48C34f68D911e4C82747f8fa9EB55Ca6613DFb7A';
    console.log(`ett button enabled hashTJavxy`)

    etttBalance.addEventListener('click', async () => {

      let check = await ethEnabled();
      if(check){

        const contract = await new web3.eth.Contract(abi,'0x48C34f68D911e4C82747f8fa9EB55Ca6613DFb7A');
        await getAccount();
        console.log(`contract loaded ${accounts[0]}`)
        await contract.methods
            .balanceOf(accounts[0])
            .call()
            .then(bal => {
              if(parseInt(bal) > 0)
              console.log(parseFloat(bal/100))
            })
            .catch(console.error);

      }else{
        console.log(`eth enabled was false`)
      }


    })

    /////////////////////lets add NFT
    let abiNFT = [
      	{
      		"inputs": [],
      		"stateMutability": "nonpayable",
      		"type": "constructor"
      	},
      	{
      		"anonymous": false,
      		"inputs": [
      			{
      				"indexed": true,
      				"internalType": "address",
      				"name": "owner",
      				"type": "address"
      			},
      			{
      				"indexed": true,
      				"internalType": "address",
      				"name": "approved",
      				"type": "address"
      			},
      			{
      				"indexed": true,
      				"internalType": "uint256",
      				"name": "tokenId",
      				"type": "uint256"
      			}
      		],
      		"name": "Approval",
      		"type": "event"
      	},
      	{
      		"anonymous": false,
      		"inputs": [
      			{
      				"indexed": true,
      				"internalType": "address",
      				"name": "owner",
      				"type": "address"
      			},
      			{
      				"indexed": true,
      				"internalType": "address",
      				"name": "operator",
      				"type": "address"
      			},
      			{
      				"indexed": false,
      				"internalType": "bool",
      				"name": "approved",
      				"type": "bool"
      			}
      		],
      		"name": "ApprovalForAll",
      		"type": "event"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "to",
      				"type": "address"
      			},
      			{
      				"internalType": "uint256",
      				"name": "tokenId",
      				"type": "uint256"
      			}
      		],
      		"name": "approve",
      		"outputs": [],
      		"stateMutability": "nonpayable",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "receiver",
      				"type": "address"
      			},
      			{
      				"internalType": "string",
      				"name": "tokenURI",
      				"type": "string"
      			}
      		],
      		"name": "mintNft",
      		"outputs": [
      			{
      				"internalType": "uint256",
      				"name": "",
      				"type": "uint256"
      			}
      		],
      		"stateMutability": "nonpayable",
      		"type": "function"
      	},
      	{
      		"anonymous": false,
      		"inputs": [
      			{
      				"indexed": true,
      				"internalType": "address",
      				"name": "previousOwner",
      				"type": "address"
      			},
      			{
      				"indexed": true,
      				"internalType": "address",
      				"name": "newOwner",
      				"type": "address"
      			}
      		],
      		"name": "OwnershipTransferred",
      		"type": "event"
      	},
      	{
      		"inputs": [],
      		"name": "renounceOwnership",
      		"outputs": [],
      		"stateMutability": "nonpayable",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "from",
      				"type": "address"
      			},
      			{
      				"internalType": "address",
      				"name": "to",
      				"type": "address"
      			},
      			{
      				"internalType": "uint256",
      				"name": "tokenId",
      				"type": "uint256"
      			}
      		],
      		"name": "safeTransferFrom",
      		"outputs": [],
      		"stateMutability": "nonpayable",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "from",
      				"type": "address"
      			},
      			{
      				"internalType": "address",
      				"name": "to",
      				"type": "address"
      			},
      			{
      				"internalType": "uint256",
      				"name": "tokenId",
      				"type": "uint256"
      			},
      			{
      				"internalType": "bytes",
      				"name": "_data",
      				"type": "bytes"
      			}
      		],
      		"name": "safeTransferFrom",
      		"outputs": [],
      		"stateMutability": "nonpayable",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "operator",
      				"type": "address"
      			},
      			{
      				"internalType": "bool",
      				"name": "approved",
      				"type": "bool"
      			}
      		],
      		"name": "setApprovalForAll",
      		"outputs": [],
      		"stateMutability": "nonpayable",
      		"type": "function"
      	},
      	{
      		"anonymous": false,
      		"inputs": [
      			{
      				"indexed": true,
      				"internalType": "address",
      				"name": "from",
      				"type": "address"
      			},
      			{
      				"indexed": true,
      				"internalType": "address",
      				"name": "to",
      				"type": "address"
      			},
      			{
      				"indexed": true,
      				"internalType": "uint256",
      				"name": "tokenId",
      				"type": "uint256"
      			}
      		],
      		"name": "Transfer",
      		"type": "event"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "from",
      				"type": "address"
      			},
      			{
      				"internalType": "address",
      				"name": "to",
      				"type": "address"
      			},
      			{
      				"internalType": "uint256",
      				"name": "tokenId",
      				"type": "uint256"
      			}
      		],
      		"name": "transferFrom",
      		"outputs": [],
      		"stateMutability": "nonpayable",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "newOwner",
      				"type": "address"
      			}
      		],
      		"name": "transferOwnership",
      		"outputs": [],
      		"stateMutability": "nonpayable",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "owner",
      				"type": "address"
      			}
      		],
      		"name": "balanceOf",
      		"outputs": [
      			{
      				"internalType": "uint256",
      				"name": "",
      				"type": "uint256"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [],
      		"name": "baseURI",
      		"outputs": [
      			{
      				"internalType": "string",
      				"name": "",
      				"type": "string"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "uint256",
      				"name": "tokenId",
      				"type": "uint256"
      			}
      		],
      		"name": "getApproved",
      		"outputs": [
      			{
      				"internalType": "address",
      				"name": "",
      				"type": "address"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "owner",
      				"type": "address"
      			},
      			{
      				"internalType": "address",
      				"name": "operator",
      				"type": "address"
      			}
      		],
      		"name": "isApprovedForAll",
      		"outputs": [
      			{
      				"internalType": "bool",
      				"name": "",
      				"type": "bool"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [],
      		"name": "name",
      		"outputs": [
      			{
      				"internalType": "string",
      				"name": "",
      				"type": "string"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [],
      		"name": "owner",
      		"outputs": [
      			{
      				"internalType": "address",
      				"name": "",
      				"type": "address"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "uint256",
      				"name": "tokenId",
      				"type": "uint256"
      			}
      		],
      		"name": "ownerOf",
      		"outputs": [
      			{
      				"internalType": "address",
      				"name": "",
      				"type": "address"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "bytes4",
      				"name": "interfaceId",
      				"type": "bytes4"
      			}
      		],
      		"name": "supportsInterface",
      		"outputs": [
      			{
      				"internalType": "bool",
      				"name": "",
      				"type": "bool"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [],
      		"name": "symbol",
      		"outputs": [
      			{
      				"internalType": "string",
      				"name": "",
      				"type": "string"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "uint256",
      				"name": "index",
      				"type": "uint256"
      			}
      		],
      		"name": "tokenByIndex",
      		"outputs": [
      			{
      				"internalType": "uint256",
      				"name": "",
      				"type": "uint256"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "address",
      				"name": "owner",
      				"type": "address"
      			},
      			{
      				"internalType": "uint256",
      				"name": "index",
      				"type": "uint256"
      			}
      		],
      		"name": "tokenOfOwnerByIndex",
      		"outputs": [
      			{
      				"internalType": "uint256",
      				"name": "",
      				"type": "uint256"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [
      			{
      				"internalType": "uint256",
      				"name": "tokenId",
      				"type": "uint256"
      			}
      		],
      		"name": "tokenURI",
      		"outputs": [
      			{
      				"internalType": "string",
      				"name": "",
      				"type": "string"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	},
      	{
      		"inputs": [],
      		"name": "totalSupply",
      		"outputs": [
      			{
      				"internalType": "uint256",
      				"name": "",
      				"type": "uint256"
      			}
      		],
      		"stateMutability": "view",
      		"type": "function"
      	}
      ]
    const nftAddress = '0x8579D4aF1550f3522385cb695a9529Fe297F474a';
    console.log(`nft button enabled hash103zhMTzy`)

    nftBalance.addEventListener('click', async () => {

      let check = await ethEnabled();
      if(check){

        const contract = await new web3.eth.Contract(abiNFT,nftAddress);
        await getAccount();
        console.log(`contract loaded ${accounts[0]}`)

        var myAjaxCalls = [];
        var mySellButtons = [];
        await contract.methods
            .totalSupply()
            .call()
            .then(async bal => {
              if(parseInt(bal) > 0)

              for(let i=1;i<= bal;i++){
                console.log(`calling token ${i}`)
                await contract.methods
                    .tokenURI(i)
                    .call()
                    .then(async link => {
                      console.log(`loading link of ${link}`)
                      document.getElementById("my_content").innerHTML+="<div><span>token id: "+i+"</span><a target='new' href="+link+">"+link+"</a></div>";
                      document.getElementById("my_content").innerHTML+="<div><iframe width='500' height='300' src='"+link+"' style='-webkit-transform:scale(0.5);-moz-transform-scale(0.5);'></iframe></div>";
                      /***
                      document.getElementById("my_content").innerHTML+="<div><iframe id='myframe_"+i+"' width='500' height='300' style='-webkit-transform:scale(0.5);-moz-transform-scale(0.5);'></iframe></div>";
                      myAjaxCalls[i] = new XMLHttpRequest();
                      myAjaxCalls[i].onreadystatechange = function() {
                          if (myAjaxCalls[i].readyState !== 4) return;
                          if (myAjaxCalls[i].status === 200) {

                              var doc = document.getElementById(`myframe_${i}`).contentWindow.document;
                              doc.open();
                              doc.write(xhr.responseText);
                              doc.close();
                          }
                      }
                      myAjaxCalls[i].open('GET', `${link}`, true);
                      myAjaxCalls[i].send(null);
                      ***/
                    })
                    .catch(console.error);
                await contract.methods
                    .ownerOf(i)
                    .call()
                    .then(async addrOwner => {
                      console.log(`owner of ${i} is ${addrOwner} and you are ${accounts[0]}`)
                      if(addrOwner.toLowerCase() == accounts[0].toLowerCase()){
                        document.getElementById("my_content").innerHTML+="<div><input id='send_asset_"+i+"' type='text' /></div>";
                        document.getElementById("my_content").innerHTML+="<div><button onClick='tradeAsset(\""+contract+"\",\""+accounts[0]+"\",\""+document.getElementById(`send_asset_${i}`).value+"\",\""+i+"\")' class='tradeAsset_"+i+" btn'>TRADE ASSET</button></div>";
                        mySellButtons[i] = await document.querySelector(`tradeAsset_${i}`);
                      }
                    })
                    .catch(console.error);

              }
              console.log(parseInt(bal))
            })
            .catch(console.error);

      }else{
        console.log(`eth enabled was false`)
      }


    })

</script>

</html>
